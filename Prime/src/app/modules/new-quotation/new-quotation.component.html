<div class="section-title">
    <h2>New Rate Request</h2>
</div>
<div class="container mb-5">
    <div class="col-md-9 mx-auto">
        <div class="tabs">
            <input type="radio" class="d-none" (change)="onchangeTab('1')" id="radio-1" name="tabs" />
            <label [class]="tabs == '1' ? 'tab ractive' : 'tab'" for="radio-1">General Details</label>
            <input type="radio" class="d-none" (change)="onchangeTab('2')" id="radio-2" name="tabs" />
            <label [class]="tabs == '2' ? 'tab ractive' : 'tab'" for="radio-2">Add Commodities</label>
            <input type="radio" class="d-none" (change)="onchangeTab('3')" id="radio-3" name="tabs" />
            <label [class]="tabs == '3' ? 'tab ractive' : 'tab'" for="radio-3">Add Container & Rates</label>
            <!-- <input type="radio" class="d-none" (change)="onchangeTab('4')" id="radio-4" name="tabs" />
            <label class="tab" for="radio-4">Add Rates</label> -->
            <span class="glider d-none"></span>
        </div>
    </div>
    <div class="col-md-12 services">
        <form [formGroup]="quotationForm">
            <div class="card mt-2 icon-box text-start" *ngIf="tabs == '1'">
                <div class="card-body">
                    <div class="row mt-3">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" maxlength="100" formControlName="PLACE_OF_RECEIPT"
                                    class="form-control">
                                <label class="form-label">Place of Receipt</label>
                                <div *ngIf="submitted && f.PLACE_OF_RECEIPT.errors" class="invalid-feedback">
                                    Place of
                                    Receipt is invalid</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select (change)="getServiceName($event)"
                                    [ngClass]="{'invalid': submitted && f.POL.errors}" formControlName="POL">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of portList" value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Port of Loading <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.POL.errors" class="invalid-feedback">Please select
                                    Port of Loading</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted && f.POD.errors}" formControlName="POD">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of portList;" value="{{item.CODE}}">
                                        {{item.CODE_DESC}} ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Port of Discharge <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.POD.errors" class="invalid-feedback">Please select
                                    Port of Discharge</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" maxlength="100" formControlName="PLACE_OF_DELIVERY"
                                    class="form-control">
                                <label class="form-label">Place of Delivery</label>
                                <div *ngIf="submitted && f.PLACE_OF_DELIVERY.errors" class="invalid-feedback">
                                    Place of
                                    Delivery is invalid</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted && f.FINAL_DESTINATION.errors}"
                                    formControlName="FINAL_DESTINATION">
                                    <ng-option value="" selected="true" disabled>--Select--
                                    </ng-option>
                                    <ng-option *ngFor="let item of icdList" value="{{item.CODE}}">{{item.CODE_DESC}}
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Final Destination <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.FINAL_DESTINATION.errors" class="invalid-feedback">Please
                                    select
                                    Final Destination</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select formControlName="TSP_1">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of portList" value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Transhipment 1</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <ng-select formControlName="TSP_2">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of portList" value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Transhipment 2</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted && f.SERVICE_NAME.errors}"
                                    formControlName="SERVICE_NAME">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of servicenameList" value="{{item.CODE}}">{{item.CODE}}
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Service Name <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.SERVICE_NAME.errors" class="invalid-feedback">Please select
                                    Service</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted && f.CUSTOMER_NAME.errors}"
                                    formControlName="CUSTOMER_NAME">
                                    <ng-option value="M" disabled>
                                        <button class="form-btn-primary" #openBtn5 data-bs-toggle="modal"
                                            href="#custModal">Add Customer</button>
                                            <!-- <button (click)="openCustModal()" class="form-btn-primary">Add
                                                Customer</button>
                                            <button id="openmymodal" data-bs-toggle="modal"
                                                        href="#custModal" hidden>Open Modal</button> -->
                                           <!-- <button #openBtn5 data-bs-toggle="modal" href="#custModal" class="d-none">Add Customer</button> -->
                                      </ng-option>
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of customerList"
                                        value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Customer Name <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.CUSTOMER_NAME.errors" class="invalid-feedback">Please select
                                    Customer Name</div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <h5 class="mb-4">Rate Validity</h5>
                    <div class="row">
                        <div class="col-md-4" *ngIf="!isVesselVal">
                            <div class="form-group">
                                <input type="date" [ngClass]="{'invalid': submitted && f.EFFECT_FROM.errors}"
                                    (change)="getEffectToDate($event, 1)" min={{currentDate}}
                                    formControlName="EFFECT_FROM" onkeypress="return false"
                                    class="form-control active" />
                                <label class="form-label">Effect From <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.EFFECT_FROM.errors" class="invalid-feedback">Please enter
                                    Effect From</div>
                            </div>
                        </div>
                        <div class="col-md-4" *ngIf="!isVesselVal">
                            <div class="form-group">
                                <input type="date" [ngClass]="{'invalid': submitted && f.EFFECT_TO.errors}"
                                    formControlName="EFFECT_TO" min={{currentDate}} onkeypress="return false"
                                    class="form-control active" />
                                <label class="form-label">Valid Till <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted && f.EFFECT_TO.errors" class="invalid-feedback">Please enter
                                    Effect To</div>
                            </div>
                        </div>
                        <div [class]="isVesselVal ? 'col-md-4' : 'col-md-4 mt-md-3'">
                            <div class="form-group">
                                <div class="form-check form-switch">
                                    <input (change)="isVesselValidity($event)" class="form-check-input" type="checkbox"
                                        role="switch" />
                                    <label class="form-check-label">Apply Vessel Validity</label>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="isVesselVal && !isVoyageAdded" class="col-md-4">
                            <button data-bs-toggle="modal" href="#voyageModal" class="form-btn rounded-pill">Add
                                Voyage</button>
                        </div>
                        <div *ngIf="isVesselVal" [class]="!isVoyageAdded ? 'col-md-4' : 'col-md-4 offset-md-4'"
                            style="text-align: right;">
                            <button (click)="slotAllocation()" class="form-btn-primary">
                                <i class="fa fa-plus me-2"></i>Slot
                                Allocation</button>
                        </div>
                    </div>
                    <form [formGroup]="slotDetailsForm" *ngIf="isVesselVal">
                        <div class="row">
                            <div class="col-md-6 border-end">
                                <div class="row mt-4">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-group">
                                            <ng-select (change)="getVoyageList($event)"
                                                [ngClass]="{'invalid': submitted && f5.VESSEL_NAME.errors}"
                                                formControlName="VESSEL_NAME">
                                                <ng-option value="" selected="true" disabled>
                                                    --Select--</ng-option>
                                                <ng-option *ngFor="let item of vesselList" value="{{item.CODE}}">
                                                    {{item.CODE_DESC}}
                                                </ng-option>
                                            </ng-select>
                                            <label class="form-label-ddl">Vessel Name<span class="text-danger">
                                                    *</span></label>
                                            <div *ngIf="submitted && f5.VESSEL_NAME.errors" class="invalid-feedback">
                                                Vessel Name is required
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-group">
                                            <ng-select [ngClass]="{'invalid': submitted3 && f6.VOYAGE_NO.errors}"
                                                formControlName="VOYAGE_NO">
                                                <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                                <ng-option *ngFor="let item of voyageList" value="{{item.CODE}}">
                                                    {{item.CODE}}
                                                </ng-option>
                                            </ng-select>
                                            <label class="form-label-ddl">Voyage No <span class="text-danger">
                                                    *</span></label>
                                            <div *ngIf="submitted && f5.VOYAGE_NO.errors" class="invalid-feedback">
                                                Voyage No is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input formControlName="MOTHER_VESSEL_NAME" type="text"
                                                class="form-control" />
                                            <label class="form-label">Mother Vessel Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input formControlName="MOTHER_VOYAGE_NO" type="text"
                                                class="form-control" />
                                            <label class="form-label">Mother Vessel Voyage
                                                No</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div [class]="isScroll ? 'scrollbar' : ''" id="style-3">
                                    <div [class]="isScroll ? 'force-overflow' : ''">
                                        <table class="table mt-3" style="font-size: 12px;">
                                            <tbody>
                                                <tr *ngFor="let item of s;let j = index;" [formGroup]="s1(item)">
                                                    <td>
                                                        <label class="mt-4"> {{j+1}}</label>
                                                    </td>
                                                    <td class="col-md-6">
                                                        <label class="form-label3">Slot Operator</label>
                                                        <select class="form-control3" formControlName="SLOT_OPERATOR">
                                                            <option value="" selected disabled>
                                                                --Slot
                                                                Operator--</option>
                                                            <option *ngFor="let item of slotoperatorList"
                                                                value="{{item.CODE}}">
                                                                {{item.CODE_DESC}}</option>
                                                        </select>
                                                    </td>
                                                    <td class="col-md-4">
                                                        <label class="form-label3">No of Slots</label>
                                                        <input (keypress)="numericOnly($event)" class="form-control3"
                                                            formControlName="NO_OF_SLOTS" type="text" />

                                                    </td>
                                                    <td class="col-md-2">
                                                        <a (click)="removeItem(j)"><i class="fa fa-trash  mt-4"
                                                                style="font-size:15px"></i></a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>

                    <!-- <div class="row">
                        <div class="col-md-6 mb-4">
                            <input type="text" maxlength="100" placeholder="Other Parties Name"
                                formControlName="OTHER_PARTY_NAME" class="form-control w-50 mb-3" />
                            <label class="radio-inline">
                                <input type="radio" formControlName="OTHER_PARTY" id="inlineRadio1"
                                    value="Brokerage Party"><span class="indicator"></span>
                                Brokerage Party
                            </label>
                            <label class="radio-inline">
                                <input type="radio" formControlName="OTHER_PARTY" id="inlineRadio2"
                                    value="Consignee"><span class="indicator"></span>Consignee
                            </label>
                            <label class="radio-inline">
                                <input type="radio" formControlName="OTHER_PARTY" id="inlineRadio3"
                                    value="Forwarder"><span class="indicator"></span>Forwarder
                            </label>
                            <label class="radio-inline">
                                <input type="radio" formControlName="OTHER_PARTY" id="inlineRadio4" value="CHA"><span
                                    class="indicator"></span>CHA
                            </label>
                        </div>
                    </div> -->
                    <hr>
                    <div class="row">
                        <div class="col-md-2 offset-md-10" style="text-align: right;">
                            <button (click)="saveQuotation()" class="form-btn w-100">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <form [formGroup]="commoditiesForm">
            <div class="card mt-2" *ngIf="tabs == '2'">
                <div class="card-body">
                    <div class="row mt-3">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" class="form-control" formControlName="COMMODITY_NAME"
                                    [ngClass]="{'invalid': submitted2 && f2.COMMODITY_NAME.errors}" />
                                <label class="form-label">Commodity Name <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.COMMODITY_NAME.errors" class="invalid-feedback">
                                    Please
                                    enter
                                    Commodity Name</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select formControlName="COMMODITY_TYPE" (change)="onChangeCommodityType($event)"
                                    [ngClass]="{'invalid': submitted2 && f2.COMMODITY_TYPE.errors}">
                                    <ng-option value="" selected="true" disabled>--Select Commodity Type--</ng-option>
                                    <ng-option value="NORMAL">Normal</ng-option>
                                    <ng-option value="HAZ">Hazardous</ng-option>
                                    <ng-option value="FLEXIBAG">Flexi Bag</ng-option>
                                    <ng-option value="REEFER">Reefer</ng-option>
                                    <ng-option value="SP">Special Equipment (OOG)</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Commodity Type <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.COMMODITY_TYPE.errors" class="invalid-feedback">
                                    Please
                                    select
                                    Commodity Type</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4" *ngIf="commodityType == 'FLEXIBAG'">
                            <div class="form-group">
                                <input type="text" formControlName="FLASH_POINT"
                                    [ngClass]="{'invalid': submitted2 && f2.FLASH_POINT.errors}" class="form-control" />
                                <label class="form-label">Flash Point <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.FLASH_POINT.errors" class="invalid-feedback">
                                    Please enter Flash Point
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4" *ngIf="commodityType == 'HAZ'">
                            <div class="form-group">
                                <ng-select formControlName="IMO_CLASS" (change)="onchangeIMO($event)"
                                    [ngClass]="{'invalid': submitted2 && f2.IMO_CLASS.errors}">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of imoclassList"
                                        value="{{item.CODE}}">{{item.CODE}}</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">IMO Class Name <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.IMO_CLASS.errors" class="invalid-feedback">
                                    Please enter IMO Class Name
                                </div>
                            </div>
                        </div>

                        <div class="col-md-2 mb-4"
                            *ngIf="commodityType == 'NORMAL' || commodityType == 'REEFER' || commodityType == 'SP'">
                            <div class="form-group">
                                <input type="text" formControlName="WEIGHT" maxlength="5"
                                    (keypress)="numericOnly($event)"
                                    [ngClass]="{'invalid': submitted2 && f2.WEIGHT.errors}" class="form-control" />
                                <label class="form-label">Weight (per container)<span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted2 && f2.WEIGHT.errors" class="invalid-feedback">
                                    Please enter Weight
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4"
                            *ngIf="commodityType == 'NORMAL' || commodityType == 'REEFER' || commodityType == 'SP'">
                            <div class="form-group">
                                <ng-select formControlName="WEIGHT_UNIT"
                                    [ngClass]="{'invalid': submitted2 && f2.WEIGHT_UNIT.errors}">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option value="KG">Kg</ng-option>
                                    <ng-option value="MT">MT</ng-option>
                                    <ng-option value="TN">Tons</ng-option>
                                    <ng-option value="GL">Gallons</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Unit<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.WEIGHT_UNIT.errors" class="invalid-feedback">
                                    Please enter Weight Unit
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'HAZ'|| commodityType == 'SP'">
                        <div class="col-md-4 mb-4" *ngIf="commodityType == 'HAZ'">
                            <div class="form-group">
                                <ng-select formControlName="UN_NO" (change)="onchangeUN($event)"
                                    [ngClass]="{'invalid': submitted2 && f2.UN_NO.errors}">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of unnoList"
                                        value="{{item.CODE}}">{{item.CODE}}</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">UN No <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.UN_NO.errors" class="invalid-feedback">
                                    Please enter UN No
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4" *ngIf="commodityType == 'HAZ'">
                            <div class="form-group">
                                <input type="text" formControlName="HAZ_APPROVAL_REF"
                                    [ngClass]="{'invalid': submitted2 && f2.HAZ_APPROVAL_REF.errors}"
                                    class="form-control" />
                                <label class="form-label">HAZ Approval Ref <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.HAZ_APPROVAL_REF.errors" class="invalid-feedback">
                                    Please enter HAZ Approval Ref
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4" *ngIf="commodityType == 'HAZ'">
                            <div class="form-group">
                                <input type="text" formControlName="WEIGHT" maxlength="5"
                                    (keypress)="numericOnly($event)"
                                    [ngClass]="{'invalid': submitted2 && f2.WEIGHT.errors}" class="form-control" />
                                <label class="form-label">Weight (per container)<span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted2 && f2.WEIGHT.errors" class="invalid-feedback">
                                    Please enter Weight
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4" *ngIf="commodityType == 'HAZ'">
                            <div class="form-group">
                                <ng-select formControlName="WEIGHT_UNIT"
                                    [ngClass]="{'invalid': submitted2 && f2.WEIGHT_UNIT.errors}">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option value="KG">Kg</ng-option>
                                    <ng-option value="MT">MT</ng-option>
                                    <ng-option value="TN">Tons</ng-option>
                                    <ng-option value="GL">Gallons</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Unit<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.WEIGHT_UNIT.errors" class="invalid-feedback">
                                    Please enter Weight Unit
                                </div>
                            </div>
                        </div>

                        <div class="col-md-2 mb-4" *ngIf="commodityType == 'SP'">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted2 && f2.LENGTH.errors}"
                                    formControlName="LENGTH" class="form-control" />
                                <label class="form-label">Length (cms)<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.LENGTH.errors" class="invalid-feedback">
                                    Please enter Length
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4" *ngIf="commodityType == 'SP'">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted2 && f2.WIDTH.errors}"
                                    formControlName="WIDTH" class="form-control" />
                                <label class="form-label">Width (cms)<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.WIDTH.errors" class="invalid-feedback">
                                    Please enter Width
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4" *ngIf="commodityType == 'SP'">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted2 && f2.HEIGHT.errors}"
                                    formControlName="HEIGHT" class="form-control" />
                                <label class="form-label">Height (cms)<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.HEIGHT.errors" class="invalid-feedback">
                                    Please enter Height
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'HAZ'">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="REMARKS" class="form-control" />
                                <label class="form-label">Remarks</label>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <label class="label-header">IMO Class </label><small
                                class="text-danger ms-1">{{commoditiesForm.value.IMO_CLASS_NAME}}</small>
                        </div>
                        <div class="col-md-4 mb-4">
                            <label class="label-header">UN No (Hazardous Material)</label><small
                                class="text-danger ms-1">{{commoditiesForm.value.UN_NO_NAME}}</small>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'FLEXIBAG'">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="CAS_NO"
                                    [ngClass]="{'invalid': submitted2 && f2.CAS_NO.errors}" class="form-control" />
                                <label class="form-label">CAS No <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.CAS_NO.errors" class="invalid-feedback">
                                    Please enter CAS No
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="WEIGHT" maxlength="5"
                                    (keypress)="numericOnly($event)"
                                    [ngClass]="{'invalid': submitted2 && f2.WEIGHT.errors}" class="form-control" />
                                <label class="form-label">Weight (per container)<span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted2 && f2.WEIGHT.errors" class="invalid-feedback">
                                    Please enter Weight
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4">
                            <div class="form-group">
                                <ng-select formControlName="WEIGHT_UNIT"
                                    [ngClass]="{'invalid': submitted2 && f2.WEIGHT_UNIT.errors}">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option value="KG">Kg</ng-option>
                                    <ng-option value="MT">MT</ng-option>
                                    <ng-option value="TN">Tons</ng-option>
                                    <ng-option value="GL">Gallons</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Unit<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.WEIGHT_UNIT.errors" class="invalid-feedback">
                                    Please enter Weight Unit
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="REMARKS" class="form-control" />
                                <label class="form-label">Remarks</label>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'REEFER'">
                        <div class="col-md-2 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="VENTILATION"
                                    [ngClass]="{'invalid': submitted2 && f2.VENTILATION.errors}"
                                    (keypress)="numericOnly($event)" class="form-control" />
                                <label class="form-label">Ventilation (°C)<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.VENTILATION.errors" class="invalid-feedback">
                                    Please enter Ventilation
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="HUMIDITY"
                                    [ngClass]="{'invalid': submitted2 && f2.HUMIDITY.errors}"
                                    (keypress)="numericOnly($event)" class="form-control" />
                                <label class="form-label">Humidity (°C)<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.HUMIDITY.errors" class="invalid-feedback">
                                    Please enter Humidity
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="TEMPERATURE"
                                    [ngClass]="{'invalid': submitted2 && f2.TEMPERATURE.errors}"
                                    (keypress)="numericOnly($event)" class="form-control" />
                                <label class="form-label">Temperature (°C)<span class="text-danger"> *</span></label>
                                <div *ngIf="submitted2 && f2.TEMPERATURE.errors" class="invalid-feedback">
                                    Please enter Temperature
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="REMARKS" class="form-control" />
                                <label class="form-label">Remarks</label>
                            </div>
                        </div>
                    </div>
                    <h6 *ngIf="commodityType == 'HAZ' || commodityType == 'FLEXIBAG' || commodityType == 'SP'">Upload
                        Files</h6>
                    <div class="row" *ngIf="commodityType == 'HAZ'">
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedPOL">
                                <input type="file" (change)="fileUpload($event,'POL','HAZ')" name="file" id="file" />
                                <label for="file">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>POL Acceptance</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedPOL">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{POLAcceptanceFile}}</span>
                                    <button (click)="isUploadedPOL = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedPOD">
                                <input type="file" (change)="fileUpload($event,'POD','HAZ')" name="file1" id="file1" />
                                <label for="file1">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>POD Acceptance</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedPOD">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{PODAcceptanceFile}}</span>
                                    <button (click)="isUploadedPOD = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedVslOp">
                                <input type="file" (change)="fileUpload($event,'VslOp','HAZ')" name="file3" id="file3" />
                                <label for="file3">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>Vessel Operator Acceptance</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedVslOp">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{VslOpAcceptanceFile}}</span>
                                    <button (click)="isUploadedVslOp = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4" *ngIf="isTranshipment">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedTS">
                                <input type="file" (change)="fileUpload($event,'TS')" name="file4" id="file4" />
                                <label for="file">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>Transhipment Acceptance</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedTS">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{TSAcceptanceFile}}</span>
                                    <button (click)="isUploadedTS = false"><span class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'FLEXIBAG'">
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedShpLOY">
                                <input type="file" (change)="fileUpload($event,'ShpLOY','FLEXIBAG')" name="file4" id="file4" />
                                <label for="file4">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>Shipper LOI</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedShpLOY">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{ShpLOYAcceptanceFile}}</span>
                                    <button (click)="isUploadedShpLOY = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedVslOpAp">
                                <input type="file" (change)="fileUpload($event,'VslOpAp','FLEXIBAG')" name="file5" id="file5" />
                                <label for="file5">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>POD Acceptance</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedVslOpAp">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{VslOpApAcceptanceFile}}</span>
                                    <button (click)="isUploadedVslOpAp = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'SP'">
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedVslOpAp2">
                                <input type="file" (change)="fileUpload($event,'VslOpAp2','SP')" name="file6" id="file6" />
                                <label for="file6">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>Vessel Operator Acceptance</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedVslOpAp2">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{VslOpAp2AcceptanceFile}}</span>
                                    <button (click)="isUploadedVslOpAp2 = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="formbold-mb-5 formbold-file-input" *ngIf="!isUploadedSur">
                                <input type="file" (change)="fileUpload($event,'Sur','SP')" name="file7" id="file7" />
                                <label for="file7">
                                    <div>
                                        <h3><i class="fa fa-file-pdf-o"></i></h3>
                                        <span class="formbold-drop-file">Upload</span>
                                        <small>Surveyor File</small>
                                    </div>
                                </label>
                            </div>
                            <div class="formbold-file-list formbold-mb-5" *ngIf="isUploadedSur">
                                <div class="formbold-file-item">
                                    <span class="formbold-file-name">{{SurAcceptanceFile}}</span>
                                    <button (click)="isUploadedSur = false"><span
                                            class="bx bx-x-circle"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="commodityType == 'NORMAL'">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" formControlName="REMARKS" class="form-control" />
                                <label class="form-label">Remarks</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 offset-md-10" style="text-align: right;">
                            <button (click)="addCommodity()" class="form-btn-primary w-100">Add Commodity</button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table style="font-size: 12px;" class="table align-middle my-3 bg-white" *ngIf="f7?.length > 0">
                            <thead class="bg-light">
                                <tr>
                                    <th>Sr. No</th>
                                    <th>Commodity</th>
                                    <th>Commodity Type</th>
                                    <th>Weight</th>
                                    <th>IMO Class</th>
                                    <th>UN No</th>
                                    <th>Flash Point</th>
                                    <th>CAS No</th>
                                    <th>Ventilation</th>
                                    <th>Humidity</th>
                                    <th>Temperature</th>
                                    <th>L-W-H (cms)</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of f7; let i = index">
                                    <td>{{ i + 1 }}</td>
                                    <td>{{ item.value.COMMODITY_NAME }}</td>
                                    <td>{{ item.value.COMMODITY_TYPE == 'HAZ' ? 'Hazardous' : item.value.COMMODITY_TYPE
                                        ==
                                        'FLEXIBAG' ?
                                        'Flexi
                                        Bag' : 'Normal' }}</td>
                                    <td>{{item.value.WEIGHT}} ({{item.value.WEIGHT_UNIT}})</td>
                                    <td>{{ item.value.IMO_CLASS }} {{imoclassNames}}</td>
                                    <td>{{ item.value.UN_NO }} {{unno}}</td>
                                    <td>{{ item.value.FLASH_POINT }}</td>
                                    <td>{{ item.value.CAS_NO }}</td>
                                    <td>{{ item.value.VENTILATION }}</td>
                                    <td>{{ item.value.HUMIDITY }}</td>
                                    <td>{{ item.value.TEMPERATURE }}</td>
                                    <td>{{ item.value.LENGTH }} - {{ item.value.WIDTH }} - {{ item.value.HEIGHT }}
                                    </td>
                                    <td>{{ item.value.REMARKS }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row" *ngIf="f7.length > 0">
                        <div class="col-md-2 offset-md-10" style="text-align: right;">
                            <button (click)="saveCommodity()" class="form-btn w-100">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <form [formGroup]="containerForm">
            <div class="card mt-2" *ngIf="tabs == '3'">
                <div class="card-body">
                    <div class="row mt-3">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted1 && f1.CONTAINER_TYPE.errors}"
                                    formControlName="CONTAINER_TYPE">
                                    <ng-option value="" selected="true" disabled>--Select Container--</ng-option>
                                    <ng-option *ngFor="let item of containerTypeList"
                                        value="{{item.CODE}}">{{item.CODE_DESC}}</ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Container <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted1 && f1.CONTAINER_TYPE.errors" class="invalid-feedback">Please
                                    select
                                    Container</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <ng-select formControlName="SERVICE_MODE"
                                    [ngClass]="{'invalid': submitted1 && f1.SERVICE_MODE.errors}">
                                    <ng-option value="" selected="true" disabled>--Select Service Mode--</ng-option>
                                    <ng-option *ngFor="let item of servicetypeList"
                                        [disabled]="item.CODE == 'CFS/CY' ? true : item.CODE == 'CY/CFS' ? true : item.CODE == 'CY/CY' ? true : false "
                                        value="{{ item.CODE }}">
                                        {{ item.CODE }}
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Service Mode <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted1 && f1.SERVICE_MODE.errors" class="invalid-feedback">Please
                                    select
                                    Service Mode</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" maxlength="3"
                                    onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                    formControlName="POL_FREE_DAYS"
                                    [ngClass]="{'invalid': submitted1 && f1.POL_FREE_DAYS.errors}"
                                    class="form-control" />
                                <label class="form-label">POL Free Days <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted1 && f1.POL_FREE_DAYS.errors" class="invalid-feedback">Please
                                    enter
                                    POL Free Days</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" maxlength="3"
                                    onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                    formControlName="POD_FREE_DAYS"
                                    [ngClass]="{'invalid': submitted1 && f1.POD_FREE_DAYS.errors}"
                                    class="form-control" />
                                <label class="form-label">POD Free Days <span class="text-danger"> *</span></label>
                                <div *ngIf="submitted1 && f1.POD_FREE_DAYS.errors" class="invalid-feedback">Please
                                    enter
                                    POD Free Days</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" maxlength="5"
                                    onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                    formControlName="IMM_VOLUME_EXPECTED"
                                    [ngClass]="{'invalid': submitted1 && f1.IMM_VOLUME_EXPECTED.errors}"
                                    class="form-control" />
                                <label class="form-label">Imm Volume Expected <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted1 && f1.IMM_VOLUME_EXPECTED.errors" class="invalid-feedback">Please
                                    enter
                                    Imm Volume Expected</div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="form-group">
                                <input type="text" maxlength="5"
                                    onkeypress="return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13) ? null : event.charCode >= 48 && event.charCode <= 57"
                                    formControlName="TOTAL_VOLUME_EXPECTED"
                                    [ngClass]="{'invalid': submitted1 && f1.TOTAL_VOLUME_EXPECTED.errors}"
                                    class="form-control" />
                                <label class="form-label">Total Volume Expected <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted1 && f1.TOTAL_VOLUME_EXPECTED.errors" class="invalid-feedback">
                                    Please
                                    enter
                                    Total Volume Expected</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 offset-md-10" style="text-align: right;">
                            <button (click)="openModal()" class="form-btn-primary w-100">Add
                                Rate</button>
                            <button #RateModal data-bs-toggle="modal" href="#rateModal" class="d-none">Add
                                Rate</button>

                        </div>
                    </div>
                    <div class="modal fade" id="rateModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Rate Details</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                                        #closeBtn></button>
                                </div>
                                <div class="modal-body">
                                    <div class="col-md-12">
                                        <div class="row mb-2">
                                            <div class="col-md-6">
                                                <h6>Container : <small
                                                        class="text-danger mr-2">{{containerForm.value.CONTAINER_TYPE}}
                                                    </small>
                                                    Service Mode : <small
                                                        class="text-danger">{{containerForm.value.SERVICE_MODE}}</small>
                                                </h6>
                                            </div>
                                            <div class="col-md-6" style="text-align: right;">
                                                <button (click)="addRates()" class="form-btn">
                                                    <i class="fa fa-plus me-1"></i>Add Rates</button>
                                            </div>
                                        </div>
                                    </div>
                                    <table class="table" style="font-size: 14px;">
                                        <tbody>
                                            <tr>
                                                <th>Charge Code</th>
                                                <th>Currency</th>
                                                <th>Payment</th>
                                                <th>Place</th>
                                                <th>Standard</th>
                                                <th>Requested</th>
                                                <th></th>
                                            </tr>
                                            <tr *ngFor="let item of f3;let j = index;" [formGroup]="f4(item)">
                                                <td class="col-md-3">
                                                    <div class="form-group">
                                                        <ng-select (change)="getRate($event,j)"
                                                            formControlName="CHARGE_CODE">
                                                            <ng-option value="" selected>--Select--</ng-option>
                                                            <ng-option value="{{item.CODE}}"
                                                                *ngFor="let item of chargecodeList">{{item.CODE_DESC}}
                                                            </ng-option>
                                                        </ng-select>
                                                    </div>
                                                </td>
                                                <td class="col-md-2">
                                                    <div class="form-group">
                                                        <ng-select formControlName="CURRENCY">
                                                            <ng-option value="" selected>--Select--</ng-option>
                                                            <ng-option value="{{item.CODE}}"
                                                                *ngFor="let item of currencyList2">{{item.CODE}}
                                                            </ng-option>
                                                        </ng-select>
                                                    </div>
                                                </td>
                                                <td class="col-md-2">
                                                    <select class="form-control" formControlName="PAYMENT_TERM">
                                                        <option value="" selected>--Select--</option>
                                                        <option value="Prepaid">Prepaid</option>
                                                        <option value="Collect">Collect</option>
                                                    </select>
                                                </td>
                                                <td class="col-md-2">
                                                    <select class="form-control" formControlName="TRANSPORT_TYPE">
                                                        <option value="" selected>--Select--</option>
                                                        <option value="POL">POL</option>
                                                        <option value="POD">POD</option>
                                                    </select>
                                                </td>
                                                <td class="col-md-1">
                                                    <input class="form-control" readonly formControlName="STANDARD_RATE"
                                                        type="text" />
                                                </td>
                                                <td class="col-md-2">
                                                    <input class="form-control" maxlength="5"
                                                        (keypress)="numericOnly($event)"
                                                        formControlName="RATE_REQUESTED" type="text" />
                                                </td>
                                                <td class="text-center"><i style="font-size: 15px;"
                                                        class="fa fa-trash mt-4"></i></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" (click)="submitRate()" class="form-btn">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4 mb-2" *ngIf="isContainer">
                        <div class="table-responsive">
                            <table class="table align-middle" style="font-size: 12px">
                                <thead>
                                    <tr class="bg-light">
                                        <th>Sr. No</th>
                                        <th>Container</th>
                                        <th>Service Mode</th>
                                        <th>Rates</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of containerList;let i = index">
                                        <td>{{i+1}}</td>
                                        <td>{{item.Container}}</td>
                                        <td>{{item.ServiceMode}}</td>
                                        <td>
                                            <a (click)="openRateDetailModal(i)"><i class="fa fa-eye text-dark"></i></a>
                                            <button #RateDetailModal data-bs-toggle="modal" href="#rateDetailsModal"
                                                class="d-none">Add
                                                Rate</button>
                                        </td>
                                        <td><i class="fa fa-trash"></i></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="modal fade" #rateDetailModal id="rateDetailsModal" tabindex="-1"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Rate Details</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                                        #closeBtn></button>
                                </div>
                                <div class="modal-body">
                                    <div class="services">
                                        <div [class]="item.CONTAINER_TYPE == quotationForm?.value.SRR_CONTAINERS[conindex].CONTAINER_TYPE ? 'icon-box icon-box-cyan text-start' : ''"
                                            *ngFor="let item of quotationForm?.value.SRR_RATES">
                                            <div
                                                *ngIf="item.CONTAINER_TYPE == quotationForm?.value.SRR_CONTAINERS[conindex].CONTAINER_TYPE">
                                                <p class="description"> <span
                                                        class="text-danger">{{item.CHARGE_CODE}}</span>
                                                    | <span class="bx bx-dollar"></span>
                                                    {{item.CURRENCY}} </p>
                                                <div class="row description">
                                                    <div class="col-md-6">
                                                        <label class="label-header">Standard Rate</label>
                                                        <label class="label-sub-header">{{item.STANDARD_RATE}}</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="label-header">Requested Rate</label>
                                                        <label class="label-sub-header">{{item.RATE_REQUESTED}}</label>
                                                    </div>
                                                </div>
                                                <div class="row description">
                                                    <div class="col-md-6">
                                                        <label class="label-header">Payment Term</label>
                                                        <label class="label-sub-header">{{item.PAYMENT_TERM}}</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="label-header">Place of Payment</label>
                                                        <label class="label-sub-header">{{item.TRANSPORT_TYPE}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="isContainer">
                        <div class="col-md-2 offset-md-10" style="text-align: right;">
                            <button [disabled]="isLoading" (click)="saveContainer()" class="form-btn w-100">Submit <span
                                    *ngIf="isLoading" class="fa fa-spinner fa-spin"></span></button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="modal fade" #voyageModal id="voyageModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Voyage Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" #closeBtn3></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="voyageForm">
                    <div class="row my-4">
                        <div class="col-md-3">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted3 && f6.VESSEL_NAME.errors}"
                                    formControlName="VESSEL_NAME">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of vesselList1" value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Vessel <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.VESSEL_NAME.errors" class="invalid-feedback">Please select
                                    Vessel</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted3 && f6.VOYAGE_NO.errors}"
                                    maxlength="100" formControlName="VOYAGE_NO" class="form-control">
                                <label class="form-label">Voyage No <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.VOYAGE_NO.errors" class="invalid-feedback">
                                    Voyage No is required</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="date" onkeypress="return false"
                                    [ngClass]="{'invalid': submitted3 && f6.ATA.errors}" formControlName="ATA"
                                    class="form-control">
                                <label class="form-label">ATA <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.ATA.errors" class="invalid-feedback">
                                    ATA is required</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="date" onkeypress="return false"
                                    [ngClass]="{'invalid': submitted3 && f6.ATD.errors}" formControlName="ATD"
                                    class="form-control">
                                <label class="form-label">ATD <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.ATD.errors" class="invalid-feedback">
                                    ATD is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="date" onkeypress="return false"
                                    [ngClass]="{'invalid': submitted3 && f6.ETA.errors}" formControlName="ETA"
                                    class="form-control">
                                <label class="form-label">ETA <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.ETA.errors" class="invalid-feedback">
                                    ETA is required</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="date" onkeypress="return false"
                                    [ngClass]="{'invalid': submitted3 && f6.ETD.errors}" formControlName="ETD"
                                    class="form-control">
                                <label class="form-label">ETD <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.ETD.errors" class="invalid-feedback">
                                    ETD is required</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted3 && f6.IMM_CURR.errors}"
                                    formControlName="IMM_CURR">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of currencyList"
                                        value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Import Currency <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.IMM_CURR.errors" class="invalid-feedback">Please select
                                    Vessel</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted3 && f6.IMM_CURR_RATE.errors}"
                                    maxlength="100" formControlName="IMM_CURR_RATE" class="form-control">
                                <label class="form-label">Import Currency Rate <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.IMM_CURR_RATE.errors" class="invalid-feedback">
                                    Import Currency Rate is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted3 && f6.EXP_CURR.errors}"
                                    formControlName="EXP_CURR">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of currencyList1"
                                        value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Export Currency <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.EXP_CURR.errors" class="invalid-feedback">Please select
                                    Export Currency</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted3 && f6.EXP_CURR_RATE.errors}"
                                    maxlength="100" formControlName="EXP_CURR_RATE" class="form-control">
                                <label class="form-label">Export Currency Rate <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.EXP_CURR_RATE.errors" class="invalid-feedback">
                                    Export Currency Rate is required</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted3 && f6.TERMINAL_CODE.errors}"
                                    formControlName="TERMINAL_CODE">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option value="INMUN1">INMUN1
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Terminal <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.TERMINAL_CODE.errors" class="invalid-feedback">Please
                                    select
                                    Terminal</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <ng-select (change)="getServiceName1($event)"
                                    [ngClass]="{'invalid': submitted3 && f6.PORT_CODE.errors}"
                                    formControlName="PORT_CODE">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of portList" value="{{item.CODE}}">{{item.CODE_DESC}}
                                        ({{item.CODE}})
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Port<span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.PORT_CODE.errors" class="invalid-feedback">Please select
                                    Port</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="form-group">
                                <ng-select [ngClass]="{'invalid': submitted3 && f6.SERVICE_NAME.errors}"
                                    formControlName="SERVICE_NAME">
                                    <ng-option value="" selected="true" disabled>--Select--</ng-option>
                                    <ng-option *ngFor="let item of servicenameList1"
                                        value="{{item.CODE}}">{{item.CODE_DESC}}
                                    </ng-option>
                                </ng-select>
                                <label class="form-label-ddl">Service <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.SERVICE_NAME.errors" class="invalid-feedback">Please select
                                    Service</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <input type="text" [ngClass]="{'invalid': submitted3 && f6.VIA_NO.errors}"
                                    maxlength="100" formControlName="VIA_NO" class="form-control">
                                <label class="form-label">VIA No <span class="text-danger">
                                        *</span></label>
                                <div *ngIf="submitted3 && f6.VIA_NO.errors" class="invalid-feedback">
                                    VIA No is required</div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" (click)="insertVoyage()" class="form-btn">Submit</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="custModal" aria-labelledby="exampleModalLabel" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title w-100 text-center" id="exampleModalLabel">Add Customer</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" #closeBtn5></button>
                
            </div>
            <div class="modal-body">
                <form [formGroup]="partyForm">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group">  
                                    <label class="form-label2">Name<span class="text-danger">*</span></label>
                                    <input type="text" id="name" [ngClass]="{'invalid':submitted5 && fcp.CUST_NAME.errors}" formControlName="CUST_NAME" class="form-control2">
                                    <div *ngIf="submitted5 && fcp.CUST_NAME.errors" class="invalid-feedback">Please Enter Customer Name </div>  
                                    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2">Email<span class="text-danger">*</span></label>
                                    <input type="text" id="CustomerEmail" [ngClass]="{'invalid':submitted5 && fcp.CUST_EMAIL.errors}"  formControlName="CUST_EMAIL" class="form-control2">
                                    <div *ngIf="submitted5 && fcp.CUST_EMAIL.errors" class="invalid-feedback">Please Enter Customer Email </div>
                                    
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2">Location <span class="text-danger">*</span></label>
                                    <input type="text" [ngClass]="{'invalid':submitted1 && fcp.LOCATION.errors}" formControlName="LOCATION"
                                    class="form-control2">
                                    <div *ngIf="submitted1 && fcp.LOCATION.errors" class="invalid-feedback">
                                       Please Enter Location
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2">Address<span class="text-danger">*</span></label>
                                    <textarea type="text" id="address" [ngClass]="{'invalid':submitted5 && fcp.CUST_ADDRESS.errors}" formControlName="CUST_ADDRESS" class="form-control2" style="height:50px"></textarea>
                                    <div *ngIf="submitted5 && fcp.CUST_ADDRESS.errors" class="invalid-feedback">Please Enter Customer Address </div>
                                    
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2">GST IN<span class="text-danger">*</span></label>
                                    <input type="text" id="gstin" [ngClass]="{'invalid':submitted5 && fcp.GSTIN.errors}" formControlName="GSTIN" class="form-control2">
                                    <div *ngIf="submitted5 && fcp.GSTIN.errors" class="invalid-feedback">Please Enter GSTIN </div>
                                    
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2">Type <span class="text-danger"> *</span></label>
                                    <select formControlName="CUST_TYPE"  [ngClass]="{'invalid':submitted5 && fcp.CUST_TYPE.errors}"  class="form-control2">
                                      <option value="" selected="true" disabled>--Select--</option>
                                      <option value="Shipper">Shipper</option>
                                      <option value="Consignee">Consignee</option>
                                      <option value="Forwarder">Forwarder</option>
                                    </select>
                                    <div *ngIf="submitted5 && fcp.CUST_TYPE.errors" class="invalid-feedback">Please Select Customer Type </div>
                                </div>
                            </div>

                        </div>
    
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-6 text-end">
                            <button class="form-btn w-50" (click)="CancelPartyMaster()">Clear</button>
                        </div>
                        <div class="col-md-6">
                            <button class="form-btn w-50" (click)="InsertPartyMaster()">Save</button>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

