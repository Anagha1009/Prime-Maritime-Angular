<div class="section-title">
    <h2>{{'Header.title'|translate}}</h2>
</div>
<section class="services">
    <div>
        <div class="container mt-4">
            <!-- <div class="row">
                <div class="col-md-6 offset-md-6 text-end">
                    <button class="form-btn-primary" #openBtn data-bs-toggle="modal"
                    href="#croModal">Create CRO</button>
                </div>
            </div> -->
            <div class="row mt-4">
                <form [formGroup]="erForm">
                    <div class="col-md-12">
                        <div class="row mb-2">
                            <div class="row">
                                <div class="col-md-3 mx-auto">
                                    <div class="tabs">
                                        <input type="radio" (click)="tabs = '1'" class="d-none" id="radio-1" name="tabs" checked />
                                        <label class="tab" for="radio-1">{{'Header.Truck'|translate}}</label>
                                        <input type="radio" (click)="tabs = '2'" class="d-none" id="radio-2" name="tabs" />
                                        <label class="tab" for="radio-2">{{'Header.Rail'|translate}}</label>
                                        <input type="radio" (click)="tabs = '3'" class="d-none" id="radio-3" name="tabs" />
                                        <label class="tab" for="radio-3">{{'Header.Vessel'|translate}}</label>
                                        <span class="glider"></span>
                                    </div>
                                </div>
                                <div class="col-md-6 offset-md-6 text-end">
                                    <button class="form-btn-primary" #openBtn data-bs-toggle="modal"
                                        href="#croModal">{{'Button.CreateCRO'|translate}}</button>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4" *ngIf="tabs=='1' || tabs=='2' || tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.LoadDepot'|translate}}<span class="text-danger">*</span></label>
                                        <ng-select [ngClass]="{'invalid': submitted && f.LOAD_DEPOT.errors}"
                                            formControlName="LOAD_DEPOT" style="margin-top: 10px;" (change)="getAvailableContainers($event)">
                                            <ng-option value="" selected="true" disabled>--Select Load DEPOT--
                                            </ng-option>
                                            <ng-option value="Dammam">Dammam</ng-option>
                                            <ng-option value="AERAK-RAS AL KHAYMAH">AERAK-RAS AL KHAYMAH</ng-option>
                                            <ng-option value="AMAL - L-AMAL LOGISTICS SERVICES PVT.LTD.">AMAL - L-AMAL
                                                LOGISTICS SERVICES PVT.LTD.</ng-option>
                                            <ng-option value="BCT-Bay Container Terminal">BCT-Bay Container Terminal
                                            </ng-option>
                                            <ng-option value="BGT20-BGT20 Umm Qasar">BGT20-BGT20 Umm Qasar</ng-option>
                                            <ng-option value="BHKBS-BAHR-BHKBS Deport">BHKBS-BAHR-BHKBS Deport
                                            </ng-option>
                                            <ng-option value="BORKHE-ICD BORKHEDI">BORKHE-ICD BORKHEDI</ng-option>
                                        </ng-select>

                                        <div *ngIf="submitted && f.LOAD_DEPOT.errors" class="invalid-feedback">Please
                                            select
                                            Load Depot</div>
                                    </div>
                                </div>
                                
                                <div class="col-md-4" *ngIf="tabs=='1' || tabs=='2'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.DischargeDepot'|translate}}<span
                                                class="text-danger">*</span></label>
                                        <ng-select [ngClass]="{'invalid': submitted && f.DISCHARGE_DEPOT.errors}"
                                            formControlName="DISCHARGE_DEPOT" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>--Select DISCHARGE DEPOT--
                                            </ng-option>
                                            <ng-option value="Dammam">Dammam</ng-option>
                                            <ng-option value="AERAK-RAS AL KHAYMAH">AERAK-RAS AL KHAYMAH</ng-option>
                                            <ng-option value="AMAL - L-AMAL LOGISTICS SERVICES PVT.LTD.">AMAL - L-AMAL
                                                LOGISTICS SERVICES PVT.LTD.</ng-option>
                                            <ng-option value="BCT-Bay Container Terminal">BCT-Bay Container Terminal
                                            </ng-option>
                                            <ng-option value="BGT20-BGT20 Umm Qasar">BGT20-BGT20 Umm Qasar</ng-option>
                                            <ng-option value="BHKBS-BAHR-BHKBS Deport">BHKBS-BAHR-BHKBS Deport
                                            </ng-option>
                                            <ng-option value="BORKHE-ICD BORKHEDI">BORKHE-ICD BORKHEDI</ng-option>
                                        </ng-select>
                                        <div *ngIf="submitted && f.DISCHARGE_DEPOT.errors" class="invalid-feedback">
                                            Please select
                                            Discharge Depot</div>
                                    </div>
                                </div>
                                <div class="col-md-4" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.LoadPort'|translate}}<span class="text-danger">*</span></label>
                                        <ng-select [ngClass]="{'invalid': submitted && f.LOAD_PORT.errors}"
                                            formControlName="LOAD_PORT" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>--Select LOAD PORT--
                                            </ng-option>
                                            <ng-option value="Dammam">Dammam</ng-option>
                                            <ng-option value="AERAK-RAS AL KHAYMAH">AERAK-RAS AL KHAYMAH</ng-option>
                                            <ng-option value="AMAL - L-AMAL LOGISTICS SERVICES PVT.LTD.">AMAL - L-AMAL
                                                LOGISTICS SERVICES PVT.LTD.</ng-option>
                                            <ng-option value="BCT-Bay Container Terminal">BCT-Bay Container Terminal
                                            </ng-option>
                                            <ng-option value="BGT20-BGT20 Umm Qasar">BGT20-BGT20 Umm Qasar</ng-option>
                                            <ng-option value="BHKBS-BAHR-BHKBS Deport">BHKBS-BAHR-BHKBS Deport
                                            </ng-option>
                                            <ng-option value="BORKHE-ICD BORKHEDI">BORKHE-ICD BORKHEDI</ng-option>
                                        </ng-select>

                                        <div *ngIf="submitted && f.LOAD_PORT.errors" class="invalid-feedback">Please
                                            select
                                            Load Port</div>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mt-2" *ngIf="tabs=='1' || tabs=='2'|| tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.MovementDate'|translate}}<span
                                            class="text-danger">*</span></label>
                                        <input type="date" class="form-control"
                                            [ngClass]="{'invalid': submitted && f.MOVEMENT_DATE.errors}"
                                            formControlName="MOVEMENT_DATE">
                                        <!-- <label class="form-label">Movement Date <span
                                                class="text-danger">*</span></label> -->
                                        <div *ngIf="submitted && f.MOVEMENT_DATE.errors" class="invalid-feedback">
                                            Please enter
                                            Movement Date </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="form-label2">Mode Of Transport<span
                                                class="text-danger">*</span></label>
                                        <ng-select [ngClass]="{'invalid': submitted && f.MODE_OF_TRANSPORT.errors}"
                                            formControlName="MODE_OF_TRANSPORT" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>--Select Mode Of Transport--
                                            </ng-option>
                                            <ng-option value="Rail">Rail</ng-option>
                                            <ng-option value="Road">Road</ng-option>
                                            <ng-option value="Road">Port</ng-option>
                                        </ng-select>
                                        <div *ngIf="submitted && f.MODE_OF_TRANSPORT.errors" class="invalid-feedback">
                                            Please select
                                            Mode Of Transport</div>

                                    </div>
                                </div> -->

                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4" *ngIf="tabs=='1' || tabs=='2'">
                                    <div class="form-group">
                                        <label class="form-label2"  style="margin-bottom: 13px;">{{'Header.Container'|translate}} <span class="text-danger">*</span></label>
                                        <ng-multiselect-dropdown #multiSelect [placeholder]="'Select Container'"
                                            [settings]="dropdownSettings" [data]="containerDropdownList"
                                            [(ngModel)]="selectedItems" [formControl]="f.CONTAINER_LIST"
                                            [class.is-invalid]="f?.CONTAINER_LIST?.errors?.required"
                                            (onFilterChange)="onFilterChange($event)"
                                            (onDropDownClose)="onDropDownClose($event)"
                                            (onSelect)="onItemSelect($event)" (onDeSelect)="onDeSelect($event)"
                                            (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                                        </ng-multiselect-dropdown>
                                        
                                        <div *ngIf="submitted && f?.CONTAINER_LIST?.errors?.required"
                                            style="color: red;">
                                            Container is required
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-4 mt-3" *ngIf="tabs=='1' || tabs=='2'">
                                    <div class="form-group">
                                       
                                        <input type="text"  [ngClass]="{'invalid':submitted && f.REMARKS.errors}" formControlName="REMARKS"
                                        class="form-control" style="margin-top: 10px;">
                                    <label class="form-label"> {{'Header.Remarks'|translate}}<span class="text-danger">*</span></label>
                                    <div *ngIf="submitted && f.REMARKS.errors" class="invalid-feedback">
                                        Please Enter Remarks
                                       </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4" *ngIf="tabs=='1' || tabs=='2'">
                                    <div class="form-group">
                                        
                                        <input type="number" min="0.00" step="0.05" value="1.00" class="form-control"
                                            [ngClass]="{'invalid': submitted && f.LIFT_ON_CHARGE.errors}"
                                            formControlName="LIFT_ON_CHARGE" style="margin-top: 10px;">
                                        <label class="form-label">Lift On Charge <span
                                                class="text-danger">*</span></label>
                                        <div *ngIf="submitted && f.LIFT_ON_CHARGE.errors" class="invalid-feedback">
                                            Please enter
                                            Lift On Charge </div>
                                    </div>

                                </div>
                                <div class="col-md-4" *ngIf="tabs=='1' || tabs=='2'">
                                    <div class="form-group">
                                        <input type="number" min="0.00" step="0.05" value="1.00" class="form-control"
                                            [ngClass]="{'invalid': submitted && f.LIFT_OFF_CHARGE.errors}"
                                            formControlName="LIFT_OFF_CHARGE" style="margin-top: 10px;">
                                        <label class="form-label">Lift Off Charge <span
                                                class="text-danger">*</span></label>
                                        <div *ngIf="submitted && f.LIFT_OFF_CHARGE.errors" class="invalid-feedback">
                                            Please enter
                                            Lift Off Charge </div>
                                    </div>
                                </div> -->
                                
                                <div class="col-md-4" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.DischargePort'|translate}}<span
                                                class="text-danger">*</span></label>
                                        <ng-select [ngClass]="{'invalid': submitted && f.DISCHARGE_PORT.errors}"
                                            formControlName="DISCHARGE_PORT" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>--Select DISCHARGE PORT--
                                            </ng-option>
                                            <ng-option value="Dammam">Dammam</ng-option>
                                            <ng-option value="AERAK-RAS AL KHAYMAH">AERAK-RAS AL KHAYMAH</ng-option>
                                            <ng-option value="AMAL - L-AMAL LOGISTICS SERVICES PVT.LTD.">AMAL - L-AMAL
                                                LOGISTICS SERVICES PVT.LTD.</ng-option>
                                            <ng-option value="BCT-Bay Container Terminal">BCT-Bay Container Terminal
                                            </ng-option>
                                            <ng-option value="BGT20-BGT20 Umm Qasar">BGT20-BGT20 Umm Qasar</ng-option>
                                            <ng-option value="BHKBS-BAHR-BHKBS Deport">BHKBS-BAHR-BHKBS Deport
                                            </ng-option>
                                            <ng-option value="BORKHE-ICD BORKHEDI">BORKHE-ICD BORKHEDI</ng-option>
                                        </ng-select>
                                        <div *ngIf="submitted && f.DISCHARGE_PORT.errors" class="invalid-feedback">
                                            Please select
                                            Discharge Port</div>
                                    </div> 
                                </div>
                                
                                <div class="col-md-4" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.DischargePort'|translate}}<span
                                                class="text-danger">*</span></label>
                                        <ng-select [ngClass]="{'invalid': submitted && f.DISCHARGE_DEPOT.errors}"
                                            formControlName="DISCHARGE_DEPOT" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>--Select DISCHARGE DEPOT--
                                            </ng-option>
                                            <ng-option value="Dammam">Dammam</ng-option>
                                            <ng-option value="AERAK-RAS AL KHAYMAH">AERAK-RAS AL KHAYMAH</ng-option>
                                            <ng-option value="AMAL - L-AMAL LOGISTICS SERVICES PVT.LTD.">AMAL - L-AMAL
                                                LOGISTICS SERVICES PVT.LTD.</ng-option>
                                            <ng-option value="BCT-Bay Container Terminal">BCT-Bay Container Terminal
                                            </ng-option>
                                            <ng-option value="BGT20-BGT20 Umm Qasar">BGT20-BGT20 Umm Qasar</ng-option>
                                            <ng-option value="BHKBS-BAHR-BHKBS Deport">BHKBS-BAHR-BHKBS Deport
                                            </ng-option>
                                            <ng-option value="BORKHE-ICD BORKHEDI">BORKHE-ICD BORKHEDI</ng-option>
                                        </ng-select>
                                        <div *ngIf="submitted && f.DISCHARGE_DEPOT.errors" class="invalid-feedback">
                                            Please select
                                            Discharge Depot</div>
                                    </div>
                                </div>
                                
                                <div class="col-md-4" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.VesselName'|translate}}<span class="text-danger">*</span></label>
                                        <ng-select (change)="getVoyageList($event)"
                                            [ngClass]="{'invalid': submitted && f.VESSEL_NAME.errors}"
                                            formControlName="VESSEL_NAME" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>
                                                --Select Vessel Name--</ng-option>
                                            <ng-option *ngFor="let item of vesselList"
                                                value="{{item.CODE}}">
                                                {{item.CODE_DESC}}
                                            </ng-option>
                                        </ng-select>
                                        <div *ngIf="submitted && f.VESSEL_NAME.errors"
                                            class="invalid-feedback">Vessel Name is required
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- <div class="col-md-4" *ngIf="tabs=='1' || tabs=='2'">
                                    <div class="form-group">
                                       <label class="form-label2"> Currency <span class="text-danger">*</span></label> 
                                        <ng-select [ngClass]="{'invalid': submitted && f.CURRENCY.errors}"
                                            formControlName="CURRENCY" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>--Select Currency--</ng-option>
                                            <ng-option *ngFor="let item of currencyList" value="{{item.CODE}}">{{item.CODE_DESC}}
                                               ({{item.CODE}})
                                            </ng-option>
                                        </ng-select>
                                        <label class="form-label-ddl">Currency <span class="text-danger">*</span></label>
                                        <div *ngIf="submitted && f.CURRENCY.errors" class="invalid-feedback">Please
                                            enter
                                            Currency </div>
                                    </div>
                                </div> -->
                                
                            </div>
                            <div class="row">
                                <div class="col-md-4" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2">{{'Header.VoyageNo'|translate}}<span class="text-danger">*</span></label>
                                        <ng-select
                                            [ngClass]="{'invalid': submitted && f.VOYAGE_NO.errors}"
                                            formControlName="VOYAGE_NO" style="margin-top: 10px;">
                                            <ng-option value="" selected="true" disabled>
                                                --Select Voyage No.--</ng-option>
                                            <ng-option *ngFor="let item of voyageList"
                                                value="{{item.CODE}}">
                                                {{item.CODE_DESC}}
                                            </ng-option>
                                        </ng-select>
                                        <div *ngIf="submitted && f.VOYAGE_NO.errors"
                                            class="invalid-feedback">Voyage No is required
                                        </div>
                                    </div>
                                </div>
                                
                               
                                <div class="col-md-4" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                        <label class="form-label2"  style="margin-bottom: 13px;">{{'Header.Container'|translate}} <span class="text-danger">*</span></label>
                                        <ng-multiselect-dropdown #multiSelect [placeholder]="'Select Container'"
                                            [settings]="dropdownSettings" [data]="containerDropdownList"
                                            [(ngModel)]="selectedItems" [formControl]="f.CONTAINER_LIST"
                                            [class.is-invalid]="f?.CONTAINER_LIST?.errors?.required"
                                            (onFilterChange)="onFilterChange($event)"
                                            (onDropDownClose)="onDropDownClose($event)"
                                            (onSelect)="onItemSelect($event)" (onDeSelect)="onDeSelect($event)"
                                            (onSelectAll)="onSelectAll($event)" (onDeSelectAll)="onDeSelectAll($event)">
                                        </ng-multiselect-dropdown>
                                        
                                        <div *ngIf="submitted && f?.CONTAINER_LIST?.errors?.required"
                                            style="color: red;">
                                            Container is required
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-4 mt-3" *ngIf="tabs=='3'">
                                    <div class="form-group">
                                       
                                        <input type="text"  [ngClass]="{'invalid':submitted && f.REMARKS.errors}" formControlName="REMARKS"
                                        class="form-control" style="margin-top: 10px;">
                                    <label class="form-label"> {{'Header.Remarks'|translate}}<span class="text-danger">*</span></label>
                                    <div *ngIf="submitted && f.REMARKS.errors" class="invalid-feedback">
                                        Please Enter Remarks
                                       </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-2" *ngIf="tabs=='3'">
                                <hr>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>{{'Header.Charges'|translate}} <span class="text-danger">*</span></h6>
                                        </div>
                                        <div class="col-md-6" style="text-align: right;">
                                            <button (click)="addRates()" class="form-btn">
                                                <i class="fa fa-plus me-1"></i>{{'Button.AddRate'|translate}}</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div [class]="isScroll2 ? 'scrollbarRollOver' : ''" id="style-3">
                                                <div [class]="isScroll2 ? 'force-overflow' : ''">
                                                    <table class="table" style="font-size: 12px;">
                                                        <tbody>
                                                            <tr *ngFor="let item of f3;let j = index;" [formGroup]="f4(item)">
                                                                <td class="col-md-4">
                                                                    <label class="form-label3">{{'Header.ChargeCode'|translate}}</label>
                                                                    <select class="form-control3" formControlName="CHARGE_CODE" [ngClass]="{'invalid': submitted && item.controls.CHARGE_CODE.errors?.required}">
                                                                        <!-- <option value="" selected disabled> -->
                                                                        <option value="" selected>
                                                                            --Charge 
                                                                            Code--</option>
                                                                        <option *ngFor="let item1 of fixedChargeCode"
                                                                            value="{{item1}}">
                                                                            {{item1}}</option>
                                                                    </select>
                                                                    <div *ngIf="submitted && item.controls.CHARGE_CODE.errors?.required" class="invalid-feedback">
                                                                        Please select
                                                                        Charge Code</div>
                                                                    
                                                                </td>
                                                                <td class="col-md-3">
                                                                    <label class="form-label3">{{'Header.Currency'|translate}}</label>
                                                                    <select class="form-control3" formControlName="CURRENCY" [ngClass]="{'invalid': submitted && item.controls.CURRENCY.errors?.required}">
                                                                        <option value="" >--Select--</option>
                                                                        <option value="USD">USD</option>
                                                                        <option value="INR">INR</option>
                                                                        <option value="AUD">AUD</option>
                                                                    </select>
                                                                    <div *ngIf="submitted && item.controls.CURRENCY.errors?.required" class="invalid-feedback">
                                                                        Please select
                                                                        Currency</div>
                                                                </td>
                                                                <td class="col-md-3"> <label class="form-label3">{{'Header.StandardRate'|translate}}
                                                                        </label><input class="form-control3" readonly
                                                                        formControlName="STANDARD_RATE" type="text" [ngClass]="{'invalid': submitted && item.controls.STANDARD_RATE.errors?.required}"/>
                                                                        <div *ngIf="submitted && item.controls.STANDARD_RATE.errors?.required" class="invalid-feedback">
                                                                            Please select
                                                                            Standard Rate</div>
                                                                </td>
                                                                <td class="col-md-2 text-center">
                                                                    <a (click)="removeRateItem(j)">
                                                                        <i style="font-size: 15px;"
                                                                        class="fa fa-trash mt-4"></i>

                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
        
                                                </div>
                                            </div>
                                        </div>
        
                                    </div>


                                </div>
                                <div class="col-md-6" style="border-left:2px solid hwb(0 75% 24%);">
                                    <div class="row">
                                       <div class="col-md-6">
                                          <h6>{{'Header.SlotAllocation'|translate}} <span class="text-danger">*</span></h6>
                                       </div>
                                       <div class="col-md-6" style="text-align: right;">
                                         <button (click)="slotAllocation()" class="form-btn">
                                        <i class="fa fa-plus me-1"></i>{{'Button.AddSlot'|translate}}</button>
                                       </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div [class]="isScroll1 ? 'scrollbarRollOver' : ''" id="style-3">
                                                <div [class]="isScroll1 ? 'force-overflow' : ''">
                                                    <table class="table">
                                                        <tbody>
                                                            <tr *ngFor="let item of f5;let j = index;"
                                                                [formGroup]="f6(item)">
                                                                
                                                                <td class="col-md-6">
                                                                    <label class="form-label3">{{'Header.SlotOperator'|translate}}</label>
                                                                    <select class="form-control3"
                                                                        formControlName="SLOT_OPERATOR" [ngClass]="{'invalid': submitted && item.controls.SLOT_OPERATOR.errors?.required}">
                                                                        <option value="" selected disabled>
                                                                            --Slot
                                                                            Operator--</option>
                                                                        <option value="xx">test</option>
                                                                    </select>
                                                                    <div *ngIf="submitted && item.controls.SLOT_OPERATOR.errors?.required" class="invalid-feedback">
                                                                        Please select
                                                                        Slot Operator</div>
                                                                </td>
                                                                <td class="col-md-4">
                                                                    <label class="form-label3">{{'Header.NoOfSlots'|translate}}</label>
                                                                    <input class="form-control3"
                                                                        formControlName="NO_OF_SLOTS" type="text" [ngClass]="{'invalid': submitted && item.controls.NO_OF_SLOTS.errors?.required}"/>
                                                                    <div *ngIf="submitted && item.controls.NO_OF_SLOTS.errors?.required" class="invalid-feedback">
                                                                        Please enter
                                                                        no. of slots</div>
                                                                </td>
                                                                <td class="col-md-2 text-center">
                                                                    <a (click)="removeSlotItem(j)">
                                                                        <i style="font-size: 15px;"
                                                                        class="fa fa-trash mt-4"></i>

                                                                    </a>
                                                                </td>
                                                                    
                                                            </tr>
        
                                                        </tbody>
                                                    </table>
        
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>

                                </div>
                                
                            </div>
                            <div class="row mt-2" *ngIf="tabs=='1' ||tabs=='2'">
                                <hr>
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>{{'Header.Charges'|translate}}<span class="text-danger">*</span></h6>
                                        </div>
                                        <div class="col-md-6" style="text-align: right;">
                                            <button (click)="addRates()" class="form-btn">
                                                <i class="fa fa-plus me-1"></i>{{'Button.AddRate'|translate}}</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-9">
                                            <div [class]="isScroll2 ? 'scrollbarRollOver' : ''" id="style-3">
                                                <div [class]="isScroll2 ? 'force-overflow' : ''">
                                                    <table class="table" style="font-size: 12px;">
                                                        <tbody>
                                                            <tr *ngFor="let item of f3;let j = index;" [formGroup]="f4(item)">
                                                                <td class="col-md-4">
                                                                    <label class="form-label3">{{'Header.ChargeCode'|translate}}</label>
                                                                    <select class="form-control3" formControlName="CHARGE_CODE" [ngClass]="{'invalid': submitted && item.controls.CHARGE_CODE.errors?.required}">
                                                                        <option value="" selected disabled>
                                                                            --Charge
                                                                            Code--</option>
                                                                        <option *ngFor="let item1 of fixedChargeCode"
                                                                            value="{{item1}}">
                                                                            {{item1}}</option>
                                                                    </select>
                                                                    <div *ngIf="submitted && item.controls.CHARGE_CODE.errors?.required" class="invalid-feedback">
                                                                        Please select
                                                                        Charge Code</div>
                                                                </td>
                                                                <td class="col-md-2">
                                                                    <label class="form-label3">{{'Header.Currency'|translate}}</label>
                                                                    <select class="form-control3" formControlName="CURRENCY" [ngClass]="{'invalid': submitted && item.controls.CURRENCY.errors?.required}">
                                                                        <option value="" selected>--Select--</option>
                                                                        <option value="USD">USD</option>
                                                                        <option value="INR">INR</option>
                                                                        <option value="AUD">AUD</option>
                                                                    </select>
                                                                    <div *ngIf="submitted && item.controls.CURRENCY.errors?.required" class="invalid-feedback">
                                                                        Please select
                                                                        Currency</div>
                                                                </td>
                                                                <td class="col-md-2"> <label class="form-label3">{{'Header.StandardRate'|translate}}
                                                                        </label><input class="form-control3" readonly
                                                                        formControlName="STANDARD_RATE" type="text" [ngClass]="{'invalid': submitted && item.controls.STANDARD_RATE.errors?.required}"/>
                                                                        <div *ngIf="submitted && item.controls.STANDARD_RATE.errors?.required" class="invalid-feedback">
                                                                            Please select
                                                                            Standard Rate</div>
                                                                </td>
                                                                        
                                                                <td class="col-md-1 text-center">
                                                                    <a (click)="removeRateItem(j)">
                                                                        <i style="font-size: 15px;"
                                                                        class="fa fa-trash mt-4"></i>

                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
        
                                                </div>
                                            </div>
                                        </div>
        
                                    </div>


                                </div>
                                
                            </div>
                            <!-- slots -->
                            <!-- <div class="row" *ngIf="tabs=='3'">
                                <hr>
                                <div class="col-md-6">
                                    <h5>Slot Allocation <span class="text-danger">*</span></h5>
                                </div>
                                <div class="col-md-6" style="text-align: right;">
                                    <button (click)="slotAllocation()" class="form-btn">
                                        <i class="fa fa-plus me-1"></i>Add Slot</button>
                                </div>
                            </div> -->
                             
                            <!-- slottable -->
                            <!-- <div class="row" *ngIf="tabs=='3'">
                                <div class="col-md-8">
                                    <div [class]="isScroll1 ? 'scrollbarRollOver' : ''" id="style-3">
                                        <div [class]="isScroll1 ? 'force-overflow' : ''">
                                            <table class="table">
                                                <tbody>
                                                    <tr *ngFor="let item of f5;let j = index;"
                                                        [formGroup]="f6(item)">
                                                        
                                                        <td class="col-md-2">
                                                            <label class="form-label3">Slot Operator</label>
                                                            <select class="form-control3"
                                                                formControlName="SLOT_OPERATOR">
                                                                <option value="" selected disabled>
                                                                    --Slot
                                                                    Operator--</option>
                                                                <option value="xx">test</option>
                                                            </select>
                                                        </td>
                                                        <td class="col-md-1">
                                                            <label class="form-label3">No of Slots</label>
                                                            <input class="form-control3"
                                                                formControlName="NO_OF_SLOTS" type="text" />
                                                        </td>
                                                        <td class="col-md-1 text-start"><i style="font-size: 15px;"
                                                            class="fa fa-trash mt-4" (click)="removeItem(j)" ></i></td>
                                                    </tr>

                                                </tbody>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                            </div> -->
                           
                            <!-- charges -->
                            <!-- <div class="row" *ngIf="tabs=='3'">
                                <hr>
                                <div class="col-md-6">
                                    <h5>Charges <span class="text-danger">*</span></h5>
                                </div>
                                
                                <div class="col-md-6" style="text-align: right;">
                                    <button (click)="addRates()" class="form-btn">
                                        <i class="fa fa-plus me-1"></i>Add Rates</button>
                                </div>
                            </div> -->

                            <!-- chargetable -->
                            <!-- <div class="row" *ngIf="tabs=='3'">
                                <div class="col-md-12">
                                    <div [class]="isScroll2 ? 'scrollbarRollOver' : ''" id="style-3">
                                        <div [class]="isScroll2 ? 'force-overflow' : ''">
                                            <table class="table" style="font-size: 12px;">
                                                <tbody>
                                                    <tr *ngFor="let item of f3;let j = index;" [formGroup]="f4(item)">
                                                        <td class="col-md-2">
                                                            <label class="form-label3">Charge Code</label>
                                                            <select class="form-control3" formControlName="CHARGE_CODE">
                                                                <option value="" selected>--Select--</option>
                                                                <option value="Gross Freight">Gross Freight</option>
                                                                <option value="THC">THC</option>
                                                                <option value="EWRI">EWRI</option>
                                                                <option value="TERMINAL REBATE">TERMINAL REBATE</option>
                                                            </select>
                                                        </td>
                                                        <td class="col-md-1">
                                                            <label class="form-label3">Currency</label>
                                                            <select class="form-control3" formControlName="CURRENCY">
                                                                <option value="" selected>--Select--</option>
                                                                <option value="USD">USD</option>
                                                                <option value="INR">INR</option>
                                                                <option value="AUD">AUD</option>
                                                            </select>
                                                        </td>
                                                        <td class="col-md-2"> <label class="form-label3">Standard
                                                                Rate</label><input class="form-control3" readonly
                                                                formControlName="STANDARD_RATE" type="text" /></td>
                                                                <td class="col-md-2">
                                                                    <label class="form-label3">Requested Rate</label><input
                                                                        class="form-control3" maxlength="5"
                                                                        (keypress)="numericOnly($event)"
                                                                        formControlName="RATE_REQUESTED" type="text" />
                                                                </td>
                                                                <td class="col-md-2">
                                                                    <label class="form-label3">Payment Term</label>
                                                                    <select class="form-control3" formControlName="PAYMENT_TERM">
                                                                        <option value="" selected>--Select--</option>
                                                                        <option value="Prepaid">Prepaid</option>
                                                                        <option value="Collect">Collect</option>
                                                                    </select>
                                                                </td>
                                                                <td class="col-md-2">
                                                                    <label class="form-label3">Place of Payment</label>
                                                                    <select class="form-control3" formControlName="TRANSPORT_TYPE">
                                                                        <option value="" selected>--Select--</option>
                                                                        <option value="POL">POL</option>
                                                                        <option value="POD">POD</option>
                                                                    </select>
                                                                </td>
                                                        
                                                        <td class="col-md-1 text-center"><i style="font-size: 15px;"
                                                                class="fa fa-trash mt-4"></i></td>
                                                    </tr>
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>
                                </div>

                            </div> -->
                            
                        </div>
                    </div>
                </form>

            </div>
            <hr>
            <div class="row  mt-4 mb-4">
                <div class="col-md-6 offset-md-6 text-end">
                    <button type="button" class="form-btn" style="margin-right: 6px;"
                        (click)="cancelER()">{{'Button.Clear'|translate}}</button>
                    <button type="button" class="form-btn" style="margin-right: 6px;" (click)="saveER()">{{'Button.Save'|translate}}</button>
                </div>

            </div>

        </div>

    </div>
</section>


<div class="modal fade" id="croModal" aria-labelledby="exampleModalLabel" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title w-100 text-center" id="exampleModalLabel">Create CRO</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" #closeBtn></button>
                
            </div>
            <div class="modal-body">
                <form [formGroup]="erCROForm">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group">    
                                    <label class="form-label2"> {{'Header.RepoNo'|translate}} <span class="text-danger">*</span></label>
                                    <input type="text"  [ngClass]="{'invalid':submitted1 && f1.REPO_NO.errors}" formControlName="REPO_NO"
                                    class="form-control2">
                                    <div *ngIf="submitted1 && f1.REPO_NO.errors" class="invalid-feedback">
                                       Please Enter Repo No.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2">{{'Header.ContPickupPoint'|translate}}<span class="text-danger">*</span></label>
                                    <select [ngClass]="{'invalid':submitted1 && f1.EMPTY_CONT_PCKP.errors}"  class="form-control2" formControlName="EMPTY_CONT_PCKP">
                                        <option value="">--Select--</option>
                                        <option value="ADTC-ADTC - Dammam">"ADTC-ADTC - Dammam"</option>
                                        <option value="BCT-Bay Container Terminal">BCT-Bay Container Terminal</option>
                                    </select>
                                    <div *ngIf="submitted1 && f1.EMPTY_CONT_PCKP.errors" class="invalid-feedback">
                                       Please Enter Pickup Point.
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group">    
                                    <label class="form-label2"> {{'Header.CroValidityDate'|translate}} <span class="text-danger">*</span></label>
                                    <input formControlName="CRO_VALIDITY_DATE" type="date" class="form-control2" [ngClass]="{'invalid':submitted1 && f1.CRO_VALIDITY_DATE.errors}">
                                    <div *ngIf="submitted1 && f1.CRO_VALIDITY_DATE.errors" class="invalid-feedback">
                                       Please Enter CRO Validity Date
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-md-8 mx-auto">
                                <div class="form-group"> 
                                    <label class="form-label2"> {{'Header.RequiredQuantity'|translate}} <span class="text-danger">*</span></label>
                                    <input type="text" [ngClass]="{'invalid':submitted1 && f1.REQ_QUANTITY.errors}" formControlName="REQ_QUANTITY"
                                    class="form-control2">
                                    <div *ngIf="submitted1 && f1.REQ_QUANTITY.errors" class="invalid-feedback">
                                       Please Enter Required Quantity
                                    </div>
                                </div>
                            </div>

                        </div>
    
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-6 text-end">
                            <button class="form-btn w-50" (click)="cancelERCRO()">{{'Button.Clear'|translate}}</button>
                        </div>
                        <div class="col-md-6">
                            <button class="form-btn w-50" (click)="SaveCRO()">{{'Button.Save'|translate}}</button>
                            <button #openBtn1 data-bs-toggle="modal" href="#mailModal"
                            class="form-btn d-none">Submit</button>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="mailModal" aria-labelledby="exampleModalLabel" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Send Email</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" #closeBtn1></button>
            </div>
            <div class="modal-body">
                <h6 class="text-center"><span class="text-danger">{{croNo}}</span> has successfully been
                    created !
                </h6>
                <p class="text-center">Please provide email to send CRO and SI to shipper</p>
                <div class="form-group col-md-8 mx-auto">
                    <label class="form-label2">Email</label>
                    <input class="form-control2" [(ngModel)]="email" />
                </div>
            </div>
            <div class="modal-footer">
                <button [disabled]="isLoading" type="button" class="form-btn" (click)="getERCRODetails(croNo)">Send
                    Email <span *ngIf="isLoading" class="fa fa-spinner fa-spin"></span></button>
            </div>
        </div>
    </div>
</div>